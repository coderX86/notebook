# screen

[screen](http://www.gnu.org/software/screen/) 由GUN开发的linux命令行终端切换的自由软件，相当于window的一个窗口（直接翻译也是这么个意思），主要用户多个人物之间切换以及会话保存、恢复

* 会话恢复：每个screen都是一个独立的会话，只要screen本身没有关闭那么，screen打开的会话会一直运行，即便强制中断远程连接或者重启系统

* 多窗口： 每个screen都相当于一个windows的窗口，每个窗口独立运行，都有各自的编号（id）、输入、输出、缓存，每一个窗口都和原生的窗口一样使用，还可以被分区和命名

* 会话共享：screen 可以允许一个或者多个用户从不同的终端多次登录，并且共享会话的上下文，同时也提供了权限机制，可以对窗口添加密码保护

## 语法

> screen [-AmRvx -ls -wipe][-d <作业名称>][-h <行数>][-r <作业名称>][-s ][-S <作业名称>]

## 参数说明

| 参数          | 说明                                                                                   |
| ------------- | -------------------------------------------------------------------------------------- |
| -A            | 将所用的窗口都调整为目前终端机的大小                                                   |
| -d            | <作业名称> 将指定的作业设置为离线（detached）                                          |
| -h            | <行数>  设置指定窗口的缓冲区行数                                                       |
| -r            | <作业名 / PID> 恢复离线的screen作业                                                    |
| -R            | <作业名 / PID> 试图恢复作业名，如果找不到则新建                                        |
| -s            | 新建screen的时候需要使用的shell                                                        |
| -S            | <作业名> 新建一个指定作业名的窗口，如果直接输入screen则`pts-1.<servename>`作为窗口名称 |
| -v            | 显示版本号                                                                             |
| -x            | 恢复之前离线的作业(detached)                                                           |
| -ls或者--list | 显示目前所有的作业                                                                     |
| -wipe         | 检查目前所有作业，并且删除那些无法继续使用的作业                                       |

## 快捷键

在screen的每个session下，快捷键都已`ctrl+a`开始，比如下面的第一个为`ctrl+a,d` 先按下`ctrl+a`松开再看下`d`

| 快捷键最后一个 | 说明                                                     |
| -------------- | -------------------------------------------------------- |
| d              | 退出当前的窗口                                           |
| c              | 创建一个新的屏幕窗口，默认编号为0                        |
| 0-9            | 在窗口0-9之间切换                                        |
| x              | 锁定终端，再次进入需要输入密码                           |
| n              | 切换到上一个终端                                         |
| p              | 切换到下一个终端                                         |
| k              | 杀死当前终端，需要再次输入`y`确认                        |
| A              | 输入当前窗口的标题（官方文档这么说的，但是不知道有啥用） |
| ?              | 将显示屏幕可用的所有命令选项的列表(好像不起作用)         |
