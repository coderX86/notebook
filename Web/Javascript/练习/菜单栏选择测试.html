<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>菜单栏选择测试</title>
<style>
	*{
		box-sizing: border-box;
		list-style: none;
		padding: 0px;
		margin: 0px;
	}
	span{
		min-width: 100px;
		min-height: 40px;
		display: block;
		width: 130px;
		height:46px;
		background: rgba(144,144,144,1.00);
		float: left;
		line-height: 40px;
		padding-left: 40px;
		margin-left: 5px;
	}
	#div{
		position: relative;
		margin-top: 10px;
		width: 100%;
		min-width: 1920px;
		height: 50px;
	}
	#div1{
		background: rgba(223,2,5,1.00);
		width: 130px;
		height: 60px;
		position: absolute;
		margin-top: -6px;
		margin-left: 5px;
	}
	.sel{
		color: blue;
		background: red;
	}
	</style>
<script>
window.onload=function(){
	var timer=null;    //设置一个定时器，使选择框缓冲运动到鼠标的位置
	var s=10;    //速度系数,越大速度越慢
	var sel=document.getElementsByTagName("span");
	var bg=document.getElementById("div1");
	for(i=0;i<14;i++)
	{
		sel[i].index=i;
	}
	for(i=0;i<14;i++)
	{
		sel[i].onmouseover=function()
		{
			var sel_left=sel[this.index].offsetLeft;     //鼠标悬浮的菜单框到左边距的距离
			var spreed=0;
			clearInterval(timer);
			timer=setInterval(function(){
				var bg_left=bg.offsetLeft;              //当前背景框到左边的距离
				console.log("背景div距离左边的距离"+bg_left);
				console.log("鼠标悬浮的div距离左边的距离"+sel_left)
				spreed=(sel_left-bg_left)/s;
				spreed=spreed>0?Math.ceil(spreed):Math.floor(spreed);
				//console.log("速度"+spreed);
				document.title=spreed+","+"背景div距左"+bg.style.marginLeft;
				if(spreed==0)/*||isNaN(parseInt(spreed))*/   //开始的时候，有时会抛出spreedNAN，可以用这个方法防止
				{
					clearInterval(timer);
				}
				bg.style.marginLeft=bg_left+spreed+"px";
			},10);
		}
	}
}
	</script>
</head>

<body>
<div id="div1"></div>
<div id="div">
	<ul>
		<li>
			<span index="1">菜单1</span>
		</li>
		<li>
			<span>菜单2</span>
		</li>
		<li>
			<span>菜单3</span>
		</li>
		<li>
			<span>菜单4</span>
		</li>
		<li>
			<span>菜单5</span>
		</li>
		<li>
			<span>菜单6</span>
		</li>
		<li>
			<span>菜单7</span>
		</li>
		<li>
			<span>菜单8</span>
		</li>
		<li>
			<span>菜单9</span>
		</li>
		<li>
			<span>菜单10</span>
		</li>
		<li>
			<span>菜单11</span>
		</li>
		<li>
			<span>菜单12</span>
		</li>
		<li>
			<span>菜单13</span>
		</li>
		<li>
			<span>菜单14</span>
		</li>
	</ul>
</div>
</body>
</html>
